{"version":3,"file":"mococa-toastr.cjs.production.min.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/assets/CloseIcon.tsx","../src/styles.ts","../src/assets/ErrorIcon.tsx","../src/assets/SuccessIcon.tsx","../src/assets/WarningIcon.tsx","../src/interfaces/index.ts","../src/helpers/index.ts","../src/Toastr.tsx","../src/Context.tsx","../src/index.tsx","../src/Hook.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from \"react\";\nimport { SVGProps } from \"react\";\n\nexport const CloseIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    stroke=\"currentColor\"\n    fill=\"currentColor\"\n    strokeWidth={0}\n    viewBox=\"0 0 24 24\"\n    height=\"1em\"\n    width=\"1em\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" stroke=\"none\" />\n    <path\n      d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n      stroke=\"none\"\n    />\n  </svg>\n);\n","import styled, { keyframes } from 'styled-components';\nimport { lighten } from './helpers/index';\n\nenum colors {\n  error = '#f75d52',\n  success = '#51f083',\n  warning = '#f5b840',\n}\n\nconst lightenColor = (color: keyof typeof colors) => {\n  return lighten(150, colors[color]);\n};\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\nconst fadeOut = keyframes`\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n`;\n\nexport const Container = styled.div`\n  display: grid;\n  grid-auto-flow: row;\n  grid-template-columns: 1fr 7fr;\n  grid-column-gap: 8px;\n\n  animation: ${fadeIn} 0.2s;\n\n  &.removing {\n    animation: ${fadeOut} 150ms ease;\n  }\n\n  color: #272727;\n  font-size: 14px;\n\n  background-color: ${(props) =>\n    lightenColor(props['aria-label'] as keyof typeof colors)};\n\n  border-left: 8px solid\n    ${(props) => colors[props['aria-label'] as keyof typeof colors]};\n  border-radius: 4px;\n\n  position: relative;\n\n  width: 40%;\n  min-height: 35px;\n  max-width: 220px;\n  @media (max-width: 500px) {\n    max-width: 300px;\n  }\n  min-width: fit-content;\n\n  box-sizing: content-box;\n\n  padding: 8px;\n\n  font-family: Roboto, Arial, sans-serif;\n\n  & > svg {\n    height: inherit;\n    width: 28px;\n\n    color: ${(props) => colors[props['aria-label'] as keyof typeof colors]};\n\n    align-self: center;\n  }\n`;\n\nexport const Header = styled.header`\n  font-weight: 500;\n  font-size: 15px;\n`;\n\nexport const Body = styled.div`\n  display: flex;\n  width: auto;\n  flex-flow: column;\n`;\n\nexport const Message = styled.span`\n  width: auto;\n\n  font-size: 12px;\n`;\n\nexport const CloseButtonContainer = styled.div`\n  position: absolute;\n  top: 7px;\n  right: 10px;\n\n  cursor: pointer;\n`;\n","import * as React from \"react\";\nimport { SVGProps } from \"react\";\n\nexport const ErrorIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    stroke=\"currentColor\"\n    fill=\"currentColor\"\n    strokeWidth={0}\n    viewBox=\"0 0 24 24\"\n    height=\"1em\"\n    width=\"1em\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" stroke=\"none\" />\n    <path\n      d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n      stroke=\"none\"\n    />\n  </svg>\n);\n","import * as React from \"react\";\nimport { SVGProps } from \"react\";\n\nexport const SuccessIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    stroke=\"currentColor\"\n    fill=\"currentColor\"\n    strokeWidth={0}\n    viewBox=\"0 0 24 24\"\n    height=\"1em\"\n    width=\"1em\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" stroke=\"none\" />\n    <path\n      d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n      stroke=\"none\"\n    />\n  </svg>\n);\n","import * as React from \"react\";\nimport { SVGProps } from \"react\";\n\nexport const WarningIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    stroke=\"currentColor\"\n    fill=\"currentColor\"\n    strokeWidth={0}\n    viewBox=\"0 0 24 24\"\n    height=\"1em\"\n    width=\"1em\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" stroke=\"none\" />\n    <path\n      d=\"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n      stroke=\"none\"\n    />\n  </svg>\n);\n","export enum ToastrTypes {\n  success,\n  error,\n  warning,\n}\n\nexport interface ToastrOptions {\n  timeout: number;\n  onClose?(): void | null;\n}\n\nexport interface ToastrCreation {\n  createToastr: (\n    type: keyof typeof ToastrTypes,\n    title: string,\n    message: string,\n    options?: ToastrOptions\n  ) => void;\n}\n\nexport interface IToastr {\n  id: string;\n  timeout: number;\n  title: string;\n  message: string;\n  type: keyof typeof ToastrTypes;\n  onClose(id: string): void;\n  options?: ToastrOptions;\n}\n\nexport interface ProviderInterface {\n  timeout?: number;\n  onClose?(): void;\n}\n","export const lighten = (amount: number, color: string) => {\n  return (\n    '#' +\n    color\n      .replace(/^#/, '')\n      .replace(/../g, (color) =>\n        (\n          '0' +\n          Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)\n        ).substr(-2)\n      )\n  );\n};\n\nexport const genID = () => '_' + Math.random().toString(36).substr(2, 9);\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { IToastr } from './interfaces';\n\nimport { CloseIcon } from './assets/CloseIcon';\nimport { ErrorIcon } from './assets/ErrorIcon';\nimport { SuccessIcon } from './assets/SuccessIcon';\nimport { WarningIcon } from './assets/WarningIcon';\n\nimport {\n  Body,\n  CloseButtonContainer,\n  Container,\n  Header,\n  Message,\n} from './styles';\n\nexport const Toastr: React.FC<IToastr> = ({\n  id,\n  timeout,\n  title,\n  message,\n  type,\n  onClose,\n}) => {\n  const [hovering, setHovering] = useState(false);\n  const [closing, setClosing] = useState(false);\n\n  const handleClose = useCallback(() => onClose(id), [onClose, id]);\n\n  const handleMouseOver = () => setHovering(true);\n  const handleMouseOut = () => setHovering(false);\n\n  useEffect(() => {\n    if (closing) {\n      if (!hovering) {\n        setTimeout(() => handleClose(), 150);\n      }\n    }\n  }, [closing, hovering, handleClose]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setClosing(true);\n    }, timeout || 5 * 1000);\n  }, [id, timeout, setClosing]);\n\n  return (\n    <Container\n      aria-label={type}\n      id={id}\n      onMouseOver={handleMouseOver}\n      onMouseLeave={handleMouseOut}\n      className={closing && !hovering ? 'removing' : ''}\n    >\n      {type === 'success' && <SuccessIcon />}\n      {type === 'error' && <ErrorIcon />}\n      {type === 'warning' && <WarningIcon />}\n\n      <Body>\n        <Header>{title}</Header>\n        <Message>{message}</Message>\n      </Body>\n      <CloseButtonContainer onClick={handleClose}>\n        <CloseIcon />\n      </CloseButtonContainer>\n    </Container>\n  );\n};\n","import React, { createContext, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.index.css';\n\nimport {\n  IToastr,\n  ToastrCreation,\n  ToastrOptions,\n  ToastrTypes,\n  ProviderInterface,\n} from './interfaces';\n\nimport { defaultOptions } from '.';\nimport { Toastr } from './Toastr';\nimport { genID } from './helpers';\n\nexport const ToastrContext = createContext<ToastrCreation | null>(null);\n\nexport const ToastrProvider: React.FC<ProviderInterface> = ({\n  timeout,\n  children,\n}) => {\n  const [toastrs, setToastrs] = useState<IToastr[]>([]);\n\n  useEffect(() => {\n    const toastrRoot = document.getElementById('toastr-root');\n\n    if (!toastrRoot) {\n      const root = document.createElement('div');\n      root.id = 'toastr-root';\n      document.body.append(root);\n      return;\n    }\n\n    ReactDOM.render(\n      <div className=\"toastr-container\">\n        {toastrs?.map((toastr) => (\n          <Toastr\n            id={toastr.id}\n            key={toastr.id}\n            type={toastr.type}\n            title={toastr.title}\n            message={toastr.message}\n            timeout={toastr.timeout || timeout || 5000}\n            onClose={(id) => {\n              setToastrs((prevToastrs) =>\n                prevToastrs.filter((el) => el.id !== id)\n              );\n              if (toastr.options?.onClose) return toastr.options?.onClose();\n            }}\n          />\n        ))}\n      </div>,\n      toastrRoot\n    );\n  }, [toastrs]);\n\n  const createToastr = (\n    type: keyof typeof ToastrTypes,\n    title: string,\n    message: string,\n    options: ToastrOptions = defaultOptions(timeout)\n  ) => {\n    setToastrs((prevToastrs) => [\n      ...prevToastrs,\n      {\n        onClose() {},\n        ...options,\n        type,\n        title,\n        message,\n        id: genID(),\n      },\n    ]);\n  };\n\n  return (\n    <ToastrContext.Provider value={{ createToastr }}>\n      {children}\n    </ToastrContext.Provider>\n  );\n};\n","import { ToastrOptions } from './interfaces';\n\nexport * from './Hook';\nexport * from './Context';\nexport * from './Toastr';\nexport * from './styles';\nexport * from './interfaces';\n\nexport const defaultOptions = (timeout?: number): ToastrOptions => ({\n  timeout: timeout || 5000,\n  onClose() {},\n});\n","import { useContext } from 'react';\nimport { ToastrContext } from './Context';\nimport { ToastrOptions } from './interfaces';\n\nexport const useToastr = () => {\n  const toastrManager = useContext(ToastrContext);\n\n  return {\n    success(title: string, message?: string, options?: ToastrOptions) {\n      toastrManager?.createToastr('success', title, message || '', options);\n    },\n    error(title: string, message?: string, options?: ToastrOptions) {\n      toastrManager?.createToastr('error', title, message || '', options);\n    },\n    warning(title: string, message?: string, options?: ToastrOptions) {\n      toastrManager?.createToastr('warning', title, message || '', options);\n    },\n  };\n};\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","colors","CloseIcon","props","React","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","ErrorIcon","SuccessIcon","WarningIcon","ToastrTypes","fadeIn","keyframes","fadeOut","Container","styled","div","amount","color","replace","Math","min","max","parseInt","toString","substr","lighten","Header","header","Body","Message","span","CloseButtonContainer","Toastr","id","timeout","title","message","onClose","useState","hovering","setHovering","closing","setClosing","handleClose","useCallback","useEffect","setTimeout","onMouseOver","onMouseLeave","className","onClick","ToastrContext","createContext","defaultOptions","children","toastrs","setToastrs","toastrRoot","getElementById","root","body","append","ReactDOM","render","map","toastr","key","prevToastrs","filter","el","options","_toastr$options","_toastr$options2","Provider","value","createToastr","random","toastrManager","useContext","success","error","warning"],"mappings":"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"}